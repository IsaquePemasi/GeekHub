@page "/manga/create"
@inject IMangaService _mangaService
@inject NavigationManager navigation
<PageTitle>Cadastrar</PageTitle>


<h2>Novo Mangá</h2>

<MangaForm Manga="@manga" OnValidSubmit="CriarManga"
           ButtonTextCancelar="Cancelar"
           ButtonTextSubmit="Salvar">
</MangaForm>
<Rodape />

@code {

    private MangaDTO manga = new MangaDTO();

    async Task CriarManga()
    {
        try
        {
            await _mangaService.CreateManga(manga);
            navigation.NavigateTo("mangas");
        }
        catch (Exception)
        {
            throw;
        }
    }
}
